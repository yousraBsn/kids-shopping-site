/*! For license information please see plugins-page.js.LICENSE.txt */
(()=>{var e={5338:(e,t,r)=>{"use strict";var o=r(5795);t.H=o.createRoot,o.hydrateRoot},1020:(e,t,r)=>{"use strict";var o=r(1609),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};t.Fragment=a,t.jsx=function(e,t,r){var o,a={},l=null,u=null;for(o in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)n.call(t,o)&&!c.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:s,type:e,key:l,ref:u,props:a,_owner:i.current}}},4848:(e,t,r)=>{"use strict";e.exports=r(1020)},1609:e=>{"use strict";e.exports=window.React},5795:e=>{"use strict";e.exports=window.ReactDOM}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var s=o.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=o[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r.p=window.wcpayAssets.url,(()=>{"use strict";var e=r(1609),t=r.n(e),o=r(5338);const s=window.wp.i18n,a=window.wp.components,n=()=>t().createElement("svg",{className:"stripe-spinner",width:"29",height:"29",viewBox:"0 0 29 29",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t().createElement("path",{d:"M14.3308 28.3333C14.0453 28.3333 13.7714 28.2199 13.5695 28.018C13.3675 27.816 13.2541 27.5422 13.2541 27.2566C13.2541 26.971 13.3675 26.6972 13.5695 26.4952C13.7714 26.2933 14.0453 26.1799 14.3308 26.1799C17.4727 26.1799 20.4859 24.9317 22.7076 22.7101C24.9293 20.4884 26.1774 17.4752 26.1774 14.3333C26.1774 11.1914 24.9293 8.17821 22.7076 5.95655C20.4859 3.73489 17.4727 2.48677 14.3308 2.48677C12.5754 2.48495 10.8416 2.87419 9.25541 3.62623C7.66923 4.37826 6.27049 5.4742 5.16082 6.83441C5.07124 6.94388 4.96097 7.03464 4.83631 7.1015C4.71165 7.16836 4.57504 7.21001 4.43428 7.22407C4.15001 7.25248 3.8661 7.16679 3.645 6.98587C3.42391 6.80494 3.28374 6.54359 3.25534 6.25932C3.22694 5.97505 3.31262 5.69114 3.49355 5.47005C4.80533 3.86303 6.45849 2.56827 8.33301 1.67977C10.2075 0.791267 12.2564 0.331321 14.3308 0.333319C22.0626 0.333319 28.3308 6.6015 28.3308 14.3333C28.3308 22.0651 22.0626 28.3333 14.3308 28.3333Z",fill:"#4F575D"})),i=r.p+"../assets/images/woopayments.svg?ver=e7864bfe9a160ad2811a",c=({onRequestClose:r})=>{const[o,c]=(0,e.useState)(!0),[l,u]=(0,e.useState)(600);return(0,e.useEffect)((()=>{const e=e=>{if("https://automattic.survey.fm"===e.origin&&"embed-size"===e.data.type&&e.data.height){const t=Math.max(e.data.height,600);u(t)}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),t().createElement(a.Modal,{title:t().createElement("img",{src:i,alt:(0,s.__)("WooPayments Logo","woocommerce-payments"),className:"woopayments-disable-survey-logo"}),isDismissible:!0,shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!0,onRequestClose:r,className:"woopayments-disable-survey"},o&&t().createElement("div",{className:"woopayments-disable-survey-loader"},t().createElement(n,null)),t().createElement("iframe",{title:(0,s.__)("WooPayments Disable Survey","woocommerce-payments"),src:"https://automattic.survey.fm/woopayments-exit-feedback",className:"woopayments-disable-survey-iframe",style:{height:`${l}px`,opacity:o?0:1},onLoad:()=>{c(!1)}}))},l=window.wp.data,u=(window.wp.dataControls,window.wp.apiFetch);var p=r.n(u),w=r(4848);const m=()=>{var t;const[r,o]=(0,e.useState)(!1),a=null!==(t=window.wcpayPluginsSettings?.exitSurveyLastShown)&&void 0!==t?t:null,n=document.querySelector("#deactivate-woocommerce-payments, #deactivate-woocommerce-payments-dev"),i=(0,e.useCallback)((()=>{if(null===n)return null;window.location.href=n.getAttribute("href")}),[n]),u=(0,e.useCallback)((()=>{o(!0)}),[o]),m=(0,e.useCallback)((()=>{if(a){const e=new Date(a),t=new Date,r=Math.abs(t-e);if(Math.ceil(r/864e5)<7)return!0}return!1}),[a]),d=(0,e.useCallback)((e=>{e.preventDefault(),u()}),[u]);return(0,e.useEffect)((()=>{if(!m()&&null!==n)return n.addEventListener("click",d),()=>{n.removeEventListener("click",d)}}),[m,n,d]),(0,w.jsx)(w.Fragment,{children:!m()&&r&&(0,w.jsx)(c,{onRequestClose:async()=>{o(!1);const e=new Date;var t;t=e,p()({path:"/wc/v3/payments/settings/wcpay_exit_survey_last_shown",method:"post",data:{value:t}}).catch((()=>{(0,l.dispatch)("core/notices").createErrorNotice((0,s.__)("Error saving option","woocommerce-payments"))})),window.wcpayPluginsSettings.exitSurveyLastShown=e,i()}})})},d=document.querySelector("#woopayments-plugins-page-app");(0,o.H)(d).render((0,w.jsx)(m,{}))})()})();